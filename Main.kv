ScreenManager:
    PublicScreen:
    MemberScreen:
    LoginScreen:
    RegistrationScreen:
    CreatePostScreen:
    PrivateScreen:

<PublicScreen>:
    name: 'public'

    on_enter: self.load_posts()

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True

                    #MDLabel:
                        #text: "public"
                        #halign: "center"

<MemberScreen>:
    name: 'member'

    on_enter: self.load_posts()

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True

<LoginScreen>:
    name: 'login'

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True

                    MDCard:
                        size: 500, 400
                        orientation: "vertical"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        size_hint: None, None
                        #size_hint_x: 0.5
                        #size_hint_y: 0.8
                        padding: 20
                        spacing: 25

                        MDLabel:
                            halign: "center"
                            text: "Login"

                        MDTextField:
                            id: username
                            hint_text: "Username"
                            helper_text: "Please type your username"
                            helper_text_mode: "on_focus"

                        MDTextField:
                            id: password
                            hint_text: "Password"
                            helper_text: "Please type your password"
                            helper_text_mode: "on_focus"
                            password: True

                        MDRaisedButton:
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "LOGIN"
                            on_press: root.login()

                        MDRaisedButton:
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "REGISTER"
                            on_press: setattr(root.manager, 'current', 'registration')

<RegistrationScreen>:
    name: 'registration'

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True

                    MDCard:
                        size: 500, 400
                        orientation: "vertical"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        size_hint: None, None
                        #size_hint_x: 0.5
                        #size_hint_y: 0.8
                        padding: 20
                        spacing: 25

                        MDLabel:
                            halign: "center"
                            text: "Register"

                        MDTextField:
                            id: username
                            hint_text: "Username"
                            helper_text: "Please type your username"
                            helper_text_mode: "on_focus"

                        MDTextField:
                            id: password
                            hint_text: "Password"
                            helper_text: "Please type your password"
                            helper_text_mode: "on_focus"
                            password: True

                        MDRaisedButton:
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "REGISTER"
                            on_press: root.register()

<CreatePostScreen>:
    name: 'create_post'

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True

                    MDCard:
                        size: 500, 500
                        orientation: "vertical"
                        pos_hint: {"center_x": .5, "center_y": .5}
                        size_hint: None, None
                        #size_hint_x: 0.5
                        #size_hint_y: 0.8
                        padding: 20
                        spacing: 25

                        MDLabel:
                            halign: "center"
                            text: "Create Post"

                        MDTextField:
                            id: title
                            hint_text: "Blog Title"
                            mode: "rectangle"

                        MDTextField:
                            id: body
                            hint_text: "Body"
                            mode: "rectangle"
                            multiline: True
                            max_height: "100dp"

                        #MDRaisedButton:
                            #pos_hint: {"center_x": .5, "center_y": .5}
                            #text: "Attach File"
                            #on_press:


                        MDBoxLayout:
                            orientation: "horizontal"
                            spacing: 15

                            MDLabel:
                                halign: "right"
                                text: "members only"
                                pos_hint: {'center_x': .5, 'center_y': .5}

                            MDCheckbox:
                                halign: "left"
                                on_active: root.checkbox_click(self, self.active)
                                #size_hint: None, None
                                size: "48dp", "48dp"
                                #pos_hint: {'center_x': .5, 'center_y': .5}

                        MDRaisedButton:
                            pos_hint: {"center_x": .5, "center_y": .5}
                            text: "POST"
                            on_press: root.create_post()

<PrivateScreen>:
    name: 'private'

    on_enter: self.load_posts()

    MDBoxLayout:
        orientation: "vertical"

        MDToolbar:
            title: "Blog & Journal"
            right_action_items: [["home", lambda x: setattr(root.manager, 'current', 'public')], ["human-capacity-increase", lambda x: setattr(root.manager, 'current', 'member')], ["lock", lambda x: setattr(root.manager, 'current', 'private')], ["playlist-plus", lambda x: setattr(root.manager, 'current', 'create_post')], ["head", lambda x: setattr(root.manager, 'current', 'create_post')], ["power", lambda x: setattr(root.manager, 'current', 'login')]]

        MDBoxLayout:
            orientation: "vertical"
            padding: "8dp"

            ScrollView:

                MDBoxLayout:
                    orientation: "vertical"
                    id: posts
                    spacing: "15dp"
                    adaptive_height: True